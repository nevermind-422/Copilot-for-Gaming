# Qt Оверлей для Screen Detection

## Описание

Эта версия программы Screen Detection использует Qt/PySide6 вместо стандартного Win32 GDI для отрисовки пользовательского интерфейса. Это решает проблему с ограничением количества GDI объектов в Windows, из-за которой программа могла завершиться после длительной работы.

## Преимущества Qt оверлея

1. **Отсутствие ограничений на количество GDI объектов**: Qt использует собственный механизм отрисовки, что позволяет избежать исчерпания GDI ресурсов Windows.
2. **Более эффективное использование ресурсов**: Qt оптимизирует отрисовку и кэширует элементы интерфейса.
3. **Современный внешний вид**: Интерфейс выглядит более современно и отзывчиво.
4. **Улучшенная стабильность**: Программа не завершается после длительной работы из-за исчерпания системных ресурсов.
5. **Автоматическое масштабирование**: Интерфейс автоматически подстраивается под разрешение экрана.

## Запуск

Для запуска версии с Qt оверлеем:

```
python qt_app.py
```

Для запуска стандартной версии с указанием параметра Qt:

```
python main15.py --qt
```

## Управление

Управление осталось прежним:

- `-` - Переключение между абсолютным и относительным режимами перемещения мыши
- `+` - Включение/выключение режима слежения
- `F5` - Включение/выключение управления курсором
- `F4` - Включение/выключение отображения рамок вокруг объектов
- `Backspace` - Включение/выключение режима атаки
- `\` - Включение/выключение игнорирования людей (класс 0)
- `F1` - Выход из программы

## Зависимости

Для работы Qt оверлея требуется установить PySide6:

```
pip install PySide6
```

## Настройка масштабирования

Оверлей Qt теперь автоматически масштабируется для соответствия размеру экрана:

1. Настройки DPI контролируются файлом `qt.conf` в корневой директории проекта
2. Установлено фиксированное разрешение 1536 пикселей по длинной стороне с сохранением соотношения сторон
3. Элементы интерфейса автоматически масштабируются для соответствия разрешению экрана

## Проблемы с наложением

Если оверлей:
- не является прозрачным для ввода (перехватывает мышь/клавиатуру) 
- не отображается поверх всех окон
- имеет неправильный размер

Можно попробовать:
1. Запустить программу от имени администратора
2. Проверить наличие файла `qt.conf` в корневой директории
3. Перезапустить компьютер, если проблемы с отображением сохраняются

## Примечания

- При возникновении проблем с основным приложением (main15.py) рекомендуется использовать отдельное приложение Qt (qt_app.py).
- Qt оверлей потребляет меньше системных ресурсов, но может незначительно увеличить использование памяти.
- Возможно, потребуется настроить размер и положение элементов интерфейса в файле utils/styles.py для лучшего отображения. 