# Win32 GDI+ Оверлей для Screen Detection

## Описание

Эта версия программы Screen Detection использует Win32 GDI+ вместо Qt/PySide6 или стандартного Win32 GDI для отрисовки пользовательского интерфейса. Реализация основана на оптимизированном использовании Win32 API с двойной буферизацией и эффективным управлением GDI объектами.

## Преимущества Win32 GDI+ оверлея

1. **Оптимизированное использование ресурсов**: Эффективное управление GDI объектами и двойная буферизация.
2. **Низкое потребление памяти**: Более эффективное использование ресурсов системы по сравнению с Qt.
3. **Отсутствие внешних зависимостей**: Использует только стандартные библиотеки PyWin32.
4. **Стабильная работа с прозрачностью**: Стабильная работа с прозрачными окнами и наложениями.
5. **Точное позиционирование**: Точное позиционирование окна и элементов интерфейса на экране.
6. **Прозрачность для ввода**: Окно полностью прозрачно для ввода (мышь, клавиатура).
7. **Механизм кэширования**: Автоматическое управление GDI объектами для предотвращения утечек памяти.

## Запуск

Для запуска версии с Win32 GDI+ оверлеем:

```
python direct2d_app.py
```

## Управление

Управление осталось прежним:

- `-` - Переключение между абсолютным и относительным режимами перемещения мыши
- `+` - Включение/выключение режима слежения
- `F5` - Включение/выключение управления курсором
- `F4` - Включение/выключение отображения рамок вокруг объектов
- `Backspace` - Включение/выключение режима атаки
- `\` - Включение/выключение игнорирования людей (класс 0)
- `F1` - Выход из программы

## Системные требования

- Windows 7, Windows 10 или Windows 11
- Pywin32 для работы с API Windows
- Все стандартные зависимости, указанные в requirements.txt

## Возможные проблемы

### Проблемы с прозрачностью

Если окно оверлея:
- перехватывает клики мыши
- не поверх всех окон
- не полностью прозрачно

Попробуйте:
1. Запустить программу от имени администратора
2. Проверить настройки Display Scaling в Windows (рекомендуется 100%)
3. Отключить другие оверлеи, такие как Discord, Steam и т.д.

### Проблемы с производительностью

Если наблюдается низкая производительность:
1. Убедитесь, что антивирус не блокирует работу программы
2. Закройте другие ресурсоемкие приложения
3. Уменьшите разрешение экрана, если у вас очень высокое разрешение (4K и выше)

## Отличия от прошлых версий

- Оптимизированное использование Win32 API вместо Qt
- Двойная буферизация для плавной отрисовки
- Кэширование GDI объектов для предотвращения утечек памяти
- Многопоточная обработка сообщений Windows
- Автоматическое восстановление позиции окна
- Корректная работа на всех версиях Windows 